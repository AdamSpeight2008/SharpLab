<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Try Roslyn</title>

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <meta name="theme-color" content="#4684ee">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css" />
    <!-- build:css -->
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="loader/loader.css"/>
    <!-- endbuild -->
  </head>
  <body data-app-mobile-codemirror-focus="mobile-editor-focus">
    <main v-bind:class="{failed: !result.success}">
      <div class="section-group">
        <section class="code" data-app-mobile-codemirror-focus="mobile-editor-focus">
          <header>
            <input class="mobile-menu-button" type="button" />
            <h1>Code</h1>
            <div class="languages-and-modes">
              <div class="select-wrapper option-language option">
                <select v-model="options.language">
                  <option value="csharp">C#</option>
                  <option value="vbnet">VB.NET</option>
                </select>
              </div>

              <div class="select-wrapper option-mode option">
                <select v-model="options.mode">
                  <option value="regular">Standard</option>
                  <option value="script">Script</option>
                </select>
              </div>
            </div>

            <div class="select-wrapper option-branch option">
              <select data-v-model="branch">
                <option value="">Release (NuGet)</option>
                <option v-for="branch in branches" value="{{branch.id}}">{{branch.displayText}}</option>
              </select>
            </div>
          </header>
          <div class="mobile-menu" data-app-mobile-shelf="{
               toggle: '.code .mobile-menu-button',
               container: '.code',
               openClass: 'mobile-menu-open'
          }"></div>
          <div class="content">            
            <app-codemirror v-bind:value="code"
                            v-bind:mode="codeMirrorModes[options.language]"
                            v-bind:lint="processCodeAsync"
                            v-bind:options="{
                              lineNumbers: true,
                              indentUnit: 4,
                              gutters: ['CodeMirror-linenumbers','CodeMirror-lint-markers']
                            }"></app-codemirror>
          </div>
        </section>

        <section v-if="branch" class="info-only non-code">
          <header>
            <h1>Branch {{branch.name}}, last commit</h1>
          </header>
          <div class="content">
            <div>
              <a href="https://github.com/dotnet/roslyn/commit/{{branch.commits[0].hash}}" target="_blank">{{branch.commits[0].hash}}</a>
              at {{branch.commits[0].date | date:'dd MMM yyyy'}}
              by {{branch.commits[0].author}}
            </div>
            <div class="commit-message">{{branch.commits[0].message | trim}}</div>
          </div>
        </section>
      </div>

      <div class="section-group results">
        <section v-show="result.success" class="decompiled"  data-app-mobile-codemirror-focus="mobile-editor-focus">
          <header>
            <input class="mobile-menu-button" type="button"/>
            <h1>Decompiled</h1>
            <!--span class="loader-container" data-rv-show="loading" data-ng-include="'loader/loader.html'">
            </span-->

            <div class="select-wrapper option-target-language option">
              <select v-model="options.target">              
                <option value="csharp">C#</option>
                <option value="vbnet">VB.NET</option>
                <option value="il">IL</option>
              </select>
            </div>

            <div class="select-wrapper option-optimizations option">
              <select v-model="options.optimizations" data-app-boolean-model>
                <option value="{{false}}">Debug</option>
                <option value="{{true}}">Release</option>
              </select>
            </div>
          </header>
          <div class="mobile-menu" data-app-mobile-shelf="{
            toggle: '.decompiled .mobile-menu-button',
            container: '.decompiled',
            openClass: 'mobile-menu-open'
          }"></div>
          <div class="content">
            <app-codemirror v-bind:value="result.decompiled"
                            v-bind:mode="codeMirrorModes[options.target]"
                            v-bind:options="{ readOnly: true, indentUnit: 4 }"></app-codemirror>
          </div>
        </section>

        <section class="errors" v-show="result.errors.length > 0">
          <header>
            <h1>Errors</h1>
            <!--span class="loader-container" data-ng-show="loading" data-ng-include="'loader/loader.html'">
            </span-->
          </header>
          <div class="content">
            <ul>
              <li v-for="error in result.errors">
                <app-diagnostic v-bind:model="error"></app-diagnostic>
              </li>
            </ul>
          </div>
        </section>

        <section class="warnings" v-show="result.success && result.warnings.length > 0">
          <header>
            <h1>Warnings</h1>
          </header>
          <div class="content">
            <ul>
              <li v-for="warning in result.warnings">
                <app-diagnostic v-bind:model="warning"></app-diagnostic>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </main>
    <footer>
      Built by Andrey Shchekin (<a href="http://twitter.com/ashmind">@ashmind</a>). See <a href="http://github.com/ashmind/TryRoslyn">TryRoslyn</a> on GitHub.
    </footer>
    
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.4/hammer.min.js"></script>

    <!-- build:js -->
    <!-- endbuild -->

    <!--script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-1782671-10', 'tryroslyn.azurewebsites.net');
      ga('send', 'pageview');

    </script-->
  </body>
</html>